services:
  BorsaItalianaAlertBot:
    image: node:20
    container_name: BorsaItalianaAlertBot
    working_dir: /app
    volumes:
      - .:/app
    env_file:
      - .env
    environment:
      - TZ=Europe/Rome # Imposta la variabile TimeZone per avere l'orario italiano nei logs
    expose:
      - "3000" # Espone la porta 3000 per health checks (non Ã¨ accessibile dall'esterno, ma solo per i container nella stessa rete Docker)
    command: ["sh", "-c", "npm install --include=dev && npx prisma generate && npx prisma db push && npm run start"]
    restart: unless-stopped
    mem_limit: 1000m
    memswap_limit: 1000m